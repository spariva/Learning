DROP TABLE PE_LOCALIDAD CASCADE CONSTRAINT;
CREATE TABLE PE_LOCALIDAD(
    COD_LOCALIDAD NUMBER(15) PRIMARY KEY,
    NOMBRE VARCHAR2(15) NOT NULL
);
DROP TABLE PE_PROVEEDOR CASCADE CONSTRAINT;
CREATE TABLE PE_PROVEEDOR(
    COD_PROVEEDOR VARCHAR2(6) PRIMARY KEY,
    NOMBRE VARCHAR2(15) NOT NULL,
    TELEFONO VARCHAR2(30) NOT NULL,
    TIPO_PROVEEDOR VARCHAR2(15) NOT NULL
);
DROP TABLE PE_CLIENTE CASCADE CONSTRAINT;
CREATE TABLE PE_CLIENTE(
    COD_CLIENTE VARCHAR2(2),
    NOMBRE VARCHAR2(15) NOT NULL,
    DIRECC VARCHAR2(30) NOT NULL,
    COD_LOCALIDAD NUMBER NOT NULL,
    CONSTRAINT PK_CLIENTE PRIMARY KEY (COD_CLIENTE),
    CONSTRAINT FK_CLIENTE FOREIGN KEY (COD_LOCALIDAD) REFERENCES PE_LOCALIDAD(COD_LOCALIDAD) ON DELETE CASCADE
);
DROP TABLE PE_PRODUCTO CASCADE CONSTRAINT;
CREATE TABLE PE_PRODUCTO(
    COD_PRODUCTO VARCHAR2(15) PRIMARY KEY,
    DESCRIPCION VARCHAR2(20),
    PRECIO NUMBER(4,2) NOT NULL,
    COD_PROVEEDOR VARCHAR2(6),
    CONSTRAINT FK_PROD_PROV FOREIGN KEY (COD_PROVEEDOR) REFERENCES PE_PROVEEDOR(COD_PROVEEDOR) ON DELETE CASCADE
);
DROP TABLE PE_PEDIDO CASCADE CONSTRAINT;
CREATE TABLE PE_PEDIDO(
    COD_PEDIDO VARCHAR2(9) PRIMARY KEY,
    FECHA_PEDIDO DATE NOT NULL,
    COD_CLIENTE VARCHAR2(2) NOT NULL,
    COD_PRODUCTO VARCHAR2(15) NOT NULL,
    CANTIDAD_PEDIDA NUMBER(3) NOT NULL,
    CONSTRAINT FK_PED_CLIENTE FOREIGN KEY (COD_CLIENTE) REFERENCES PE_CLIENTE(COD_CLIENTE) ON DELETE CASCADE,
    CONSTRAINT FK_PED_PRODUCTO FOREIGN KEY (COD_PRODUCTO) REFERENCES PE_PRODUCTO(COD_PRODUCTO) ON DELETE CASCADE
);
INSERT INTO PE_LOCALIDAD VALUES('500','MADRID');
INSERT INTO PE_LOCALIDAD VALUES('600','LEGANES');
COMMIT;
INSERT INTO PE_PROVEEDOR VALUES('PM11','FONTANEDA','91-8888888','P1');
INSERT INTO PE_PROVEEDOR VALUES('PM22','COLON','91-6666666','P1');
INSERT INTO PE_PROVEEDOR VALUES('PM33','COCA COLA','91-2222222','P2');
COMMIT;
INSERT INTO PE_CLIENTE VALUES('32','JUAN SANCHEZ','RAMON SERRANO 8',500);
INSERT INTO PE_CLIENTE VALUES('25','ANTONIO LOPEZ','ALONDRA 300',600);
INSERT INTO PE_CLIENTE VALUES('45','CARLOS ORTEGA','GOYA 60',500);
COMMIT;
INSERT INTO PE_PRODUCTO VALUES('111','GALLETAS',3,'PM11');
INSERT INTO PE_PRODUCTO VALUES('333','DETERGENTE',2.46,'PM22');
INSERT INTO PE_PRODUCTO VALUES('444','LATA COCA COLA',1.21,'PM33');
INSERT INTO PE_PRODUCTO VALUES('555','LATA FANTA',1.02,'PM33');
INSERT INTO PE_PRODUCTO VALUES('222','DELICIAS TE',11.98,'PM11');
COMMIT;
INSERT INTO PE_PEDIDO VALUES('P-0001','12/03/2002','32','111',50);
INSERT INTO PE_PEDIDO VALUES('P-0002','12/04/2002','25','333',60);
INSERT INTO PE_PEDIDO VALUES('P-0003','13/05/2004','25','333',10);
INSERT INTO PE_PEDIDO VALUES('P-0004','14/05/2004','25','111',8);
COMMIT;